"use strict";

// src/NodeBased/WorkflowActions/CreateTaskv2/CreateTaskv2-template.ts
var connections = $model.Connections;
var configuration = $model.Configuration;
var taskId = Guid.NewGuid();
var dueOn = DateTime.Now;
log.Information("taskId:".concat(JSON.stringify(taskId)));
log.Information("taskId:".concat(taskId.ToString()));
if (configuration.outputVariable) {
  ctx[configuration.outputVariable] = taskId.ToString();
}
if (configuration.dueInDays) {
  if (configuration.dueInDays) {
    dueOn = DateTime.Now.AddDays($model.Configuration.dueInDays);
  }
}
if (configuration.dueOnVariable) {
  dueOn = DateTime.Parse(ctx[configuration.dueOnVariable]);
}
var task = actions.sharedo.BuildTask();
task = task.WithId(taskId).OfType(configuration.taskType).WithTitle(sharedo.buildString(configuration.taskTitle)).DueOn(dueOn);
if (connections["onOverdue"]) {
  task.OnOverdue(connections["onOverdue"].step);
}
if (connections["onComplete"]) {
  task.OnComplete(connections["onComplete"].step);
}
if (configuration.tag) {
  task.WithTag(sharedo.buildString(configuration.tag));
}
if (configuration.priorityId) {
  task.WithPriorityId($model.Configuration.priorityId);
}
if (configuration.OnReminderDue) {
  task.OnReminderDue(connections["onReminderDue"].step).At(1).Minutes;
}
if (configuration.phaseOutlets) {
  configuration.phaseOutlets.forEach((outlet) => {
    if (connections[outlet.systemName]) {
      task.OnPhase(outlet.systemName, connections[outlet.systemName].step);
    }
  });
}
if (configuration.parentWorkItemId) {
  let parentId = ctx[configuration.parentWorkItemId];
  if (parentId) {
    task = task.ForSharedo(parentId);
  }
}
if (configuration.taskOwnerOdsId) {
  let ownerId = ctx[configuration.taskOwnerOdsId];
  if (ownerId) {
    task = task.Assign("primary-owner").To(ownerId);
  }
}
if (configuration.assignments) {
  configuration.assignments.forEach((assignment) => {
    if (assignment.odsIdVariableName) {
      task = task.Assign(assignment.roleSystemName).To(ctx[assignment.odsIdVariableName]);
    }
  });
}
if (configuration.addActionPlan) {
  let actionPlanBuilder = task.WithActionPlan().WithTitle(sharedo.buildString(configuration.actionPlanTitle));
  if (configuration.actionPlanItemsList) {
    let itemsAsString = ctx[configuration.actionPlanItemsList];
    log.Information("*** itemsAsString:");
    log.Information(JSON.stringify(itemsAsString));
    if (itemsAsString) {
      let items = itemsAsString;
      items.slice().sort((a, b) => Number.parseInt(a.order, 10) - Number.parseInt(b.order, 10)).forEach(function(i) {
        log.Information("*** i:");
        log.Information("description: " + i.description);
        log.Information("type: " + i.type);
        log.Information("order: " + i.order);
        log.Information("**********");
        let actionPlanItem = buildActionPlan(i);
        log.Information("*** actionPlanItem:");
        log.Information(JSON.stringify(actionPlanItem));
        actionPlanBuilder = actionPlanBuilder.AddItem(actionPlanItem);
      });
    }
  }
  log.Information("*** actionPlanBuilder:");
  log.Information(JSON.stringify(actionPlanBuilder));
  task = actionPlanBuilder.Build();
  log.Information("*** final Task:");
  log.Information(JSON.stringify(task));
}
task.Save();
if (configuration.instanceTag) {
  log.Information("*** Updating the Instance Tag ****");
  let model = {
    value: configuration.instanceTag
  };
  let url = "/api/v1/public/workItem/".concat(taskId.ToString(), "/attributes/instanceTag");
  log.Information("url: ".concat(url));
  let result = sharedo.http.post(url, model);
  if (!result.success) {
    log.Error("Failed to update InstanceTag Attribute: ".concat(JSON.stringify(result)));
    log.Information("JSON: ".concat(JSON.stringify(result)));
    throw new Error("Failed to update InstanceTag Attribute!");
  }
  log.Information("InstanceTag Attribute Updated!");
  log.Information("*** Updating the Instance Tag Complated ****");
}
log.Information("*** task post save:");
log.Information(JSON.stringify(task));
function buildActionPlan(actionPlanModel) {
  log.Information("*** function buildActionPlan()");
  let actionPlan = actions.sharedo.BuildActionPlanItem();
  actionPlan = actionPlan.WithDescription(actionPlanModel.description);
  let type = actionPlanModel.type;
  if (type === "checkbox") {
    actionPlan = actionPlan.AddCheckbox();
  }
  if (type === "infobox") {
    actionPlan = actionPlan.AddInformation();
  }
  if (type === "header") {
    actionPlan = actionPlan.AddHeader();
  }
  if (actionPlanModel.mandatory) {
    actionPlan = actionPlan.MarkRequired();
  }
  let order = actionPlanModel.order;
  actionPlan = actionPlan.WithOrder(order);
  if (actionPlanModel.callToActionVar) {
    let callToAction = actionPlanModel.callToActionVar;
    if (!callToAction) {
      log.Warning("Create action plan - a call to action variable ($model.Configuration.callToActionVar) was specified but was empty");
    } else {
      let cta = buildCallToAction(callToAction);
      actionPlan = actionPlan.WithCallToAction(cta);
    }
  }
  let plan = actionPlan.Build();
  log.Information("*** function buildActionPlan() finished");
  return plan;
}
function buildCallToAction(callToActionModel) {
  log.Information("*********** function buildCallToAction() *****************");
  log.Information("************-Data-****************");
  log.Information(JSON.stringify(callToActionModel));
  log.Information("****************************");
  let cta = actions.sharedo.BuildCallToAction().WithDisplay(callToActionModel.title);
  if (callToActionModel.styles) {
    cta = cta.WithStyles(callToActionModel.styles);
  }
  cta = cta.Build();
  cta.CallToActionContextType = callToActionModel.contextType;
  log.Information("ContextIdVariable: " + callToActionModel.contextIdVariable);
  if (callToActionModel.contextIdVariable) {
    let contextId = ctx[callToActionModel.contextIdVariable];
    if (contextId) {
      log.Information("typeof contextId: ".concat(typeof contextId));
      if (typeof contextId === "string") {
        contextId = Guid.Parse(contextId);
      }
      log.Information("ContextId: " + contextId);
      cta.CallToActionContextId = contextId;
      log.Information("cta.CallToActionContextId: " + cta.CallToActionContextId);
    } else {
      log.Warning("ContextIdVariable: ".concat(callToActionModel.contextIdVariable, " was not found in the context"));
    }
  }
  cta.CallToActionCommand = callToActionModel.command;
  if (callToActionModel.commandConfig) {
    cta.CallToActionCommandConfiguration = callToActionModel.commandConfig;
  }
  if (!callToActionModel.commandConfig) {
    cta.CallToActionCommandConfiguration = "{}";
  }
  if (callToActionModel.icon) {
    cta.CallToActionIcon = callToActionModel.icon;
  }
  if (callToActionModel.css) {
    cta.CallToActionCss = callToActionModel.css;
  }
  log.Information("**** buildCallToAction finished");
  return cta;
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vc3JjL05vZGVCYXNlZC9Xb3JrZmxvd0FjdGlvbnMvQ3JlYXRlVGFza3YyL0NyZWF0ZVRhc2t2Mi10ZW1wbGF0ZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiXHVGRUZGaW1wb3J0IHsgSUFjdGlvblBsYW4gfSBmcm9tIFwiLi4vLi4vLi4vSW50ZXJmYWNlcy9Xb3JrZmxvd3MvSUFjdGlvblBsYW5cIjtcbmltcG9ydCB7IElDYWxsVG9BY3Rpb24gfSBmcm9tIFwiLi4vLi4vLi4vSW50ZXJmYWNlcy9Xb3JrZmxvd3MvSUNhbGxUb0FjdGlvblwiO1xuaW1wb3J0IHsgSVNoYXJlRG9HZXRSZXNwb25zZSB9IGZyb20gXCIuLi8uLi8uLi9JbnRlcmZhY2VzL1dvcmtmbG93cy9JU2hhcmVEb0dldFJlc3BvbnNlXCI7XG5cbmxldCBjb25uZWN0aW9ucyA9ICRtb2RlbC5Db25uZWN0aW9ucztcbmxldCBjb25maWd1cmF0aW9uID0gJG1vZGVsLkNvbmZpZ3VyYXRpb247XG5sZXQgdGFza0lkID0gR3VpZC5OZXdHdWlkKCk7XG5sZXQgZHVlT24gPSBEYXRlVGltZS5Ob3c7XG5cbmxvZy5JbmZvcm1hdGlvbihgdGFza0lkOiR7SlNPTi5zdHJpbmdpZnkodGFza0lkKX1gKTtcbmxvZy5JbmZvcm1hdGlvbihgdGFza0lkOiR7dGFza0lkLlRvU3RyaW5nKCl9YCk7XG5cblxuXG4vLyAkaWZOb3ROdWxsLkNvbmZpZ3VyYXRpb24ub3V0cHV0VmFyaWFibGVcbmlmIChjb25maWd1cmF0aW9uLm91dHB1dFZhcmlhYmxlKSB7XG4gICAgY3R4W2NvbmZpZ3VyYXRpb24ub3V0cHV0VmFyaWFibGVdID0gdGFza0lkLlRvU3RyaW5nKCk7IC8vIEl0J3MgYSBndWlkLCBuZWVkIHRvIHRvIHN0cmluZyBpdCBcbn1cbi8vICRlbmRpZjtcblxuLy8gJGlmTm90TnVsbC5Db25maWd1cmF0aW9uLmR1ZUluRGF5c1xuaWYgKGNvbmZpZ3VyYXRpb24uZHVlSW5EYXlzKSB7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24uZHVlSW5EYXlzKSB7XG4gICAgICAgIGR1ZU9uID0gRGF0ZVRpbWUuTm93LkFkZERheXMoJG1vZGVsLkNvbmZpZ3VyYXRpb24uZHVlSW5EYXlzKTtcbiAgICB9XG59XG4vLyAkZW5kaWZcblxuLy8gJGlmTm90TnVsbC5Db25maWd1cmF0aW9uLmR1ZU9uVmFyaWFibGVcbmlmIChjb25maWd1cmF0aW9uLmR1ZU9uVmFyaWFibGUpIHtcbiAgICBkdWVPbiA9IERhdGVUaW1lLlBhcnNlKGN0eFtjb25maWd1cmF0aW9uLmR1ZU9uVmFyaWFibGVdKTtcbn1cbi8vICRlbmRpZlxuXG5cbi8vIG91dHB1dE9iamVjdChhY3Rpb25zLnNoYXJlZG8uQnVpbGRUYXNrLFwiQnVpbGRUYXNrXCIpO1xuXG5cblxubGV0IHRhc2sgPSBhY3Rpb25zLnNoYXJlZG8uQnVpbGRUYXNrKClcblxuLy8gb3V0cHV0T2JqZWN0KHRhc2ssXCJ0YXNrXCIpO1xuXG5cblxudGFzayA9IHRhc2suV2l0aElkKHRhc2tJZClcbiAgICAuT2ZUeXBlKGNvbmZpZ3VyYXRpb24udGFza1R5cGUpXG4gICAgLldpdGhUaXRsZShzaGFyZWRvLmJ1aWxkU3RyaW5nKGNvbmZpZ3VyYXRpb24udGFza1RpdGxlKSlcbiAgICAuRHVlT24oZHVlT24pXG5cblxuLy8gb3V0cHV0T2JqZWN0KHRhc2ssXCJ0YXNrIDJcIik7XG5cblxuaWYgKGNvbm5lY3Rpb25zW1wib25PdmVyZHVlXCJdKSB7XG4gICAgdGFzay5Pbk92ZXJkdWUoY29ubmVjdGlvbnNbXCJvbk92ZXJkdWVcIl0uc3RlcClcbn1cbmlmIChjb25uZWN0aW9uc1tcIm9uQ29tcGxldGVcIl0pIHtcbiAgICB0YXNrLk9uQ29tcGxldGUoY29ubmVjdGlvbnNbXCJvbkNvbXBsZXRlXCJdLnN0ZXApXG59XG5cblxuaWYgKGNvbmZpZ3VyYXRpb24udGFnKSB7XG4gICAgdGFzay5XaXRoVGFnKHNoYXJlZG8uYnVpbGRTdHJpbmcoY29uZmlndXJhdGlvbi50YWcpKVxufVxuXG5pZiAoY29uZmlndXJhdGlvbi5wcmlvcml0eUlkKSB7XG4gICAgdGFzay5XaXRoUHJpb3JpdHlJZCgkbW9kZWwuQ29uZmlndXJhdGlvbi5wcmlvcml0eUlkKVxufVxuXG5cblxuXG5pZiAoY29uZmlndXJhdGlvbi5PblJlbWluZGVyRHVlKSB7XG4gICAgdGFzay5PblJlbWluZGVyRHVlKGNvbm5lY3Rpb25zW1wib25SZW1pbmRlckR1ZVwiXS5zdGVwKS5BdCgxKS5NaW51dGVzO1xufVxuXG5pZiAoY29uZmlndXJhdGlvbi5waGFzZU91dGxldHMpIHtcbiAgICBjb25maWd1cmF0aW9uLnBoYXNlT3V0bGV0cy5mb3JFYWNoKChvdXRsZXQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoY29ubmVjdGlvbnNbb3V0bGV0LnN5c3RlbU5hbWVdKSB7XG4gICAgICAgICAgICB0YXNrLk9uUGhhc2Uob3V0bGV0LnN5c3RlbU5hbWUsIGNvbm5lY3Rpb25zW291dGxldC5zeXN0ZW1OYW1lXS5zdGVwKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5cblxuaWYgKGNvbmZpZ3VyYXRpb24ucGFyZW50V29ya0l0ZW1JZCkge1xuICAgIGxldCBwYXJlbnRJZCA9IGN0eFtjb25maWd1cmF0aW9uLnBhcmVudFdvcmtJdGVtSWRdO1xuICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICB0YXNrID0gdGFzay5Gb3JTaGFyZWRvKHBhcmVudElkKTtcbiAgICB9XG59XG5cblxuXG5pZiAoY29uZmlndXJhdGlvbi50YXNrT3duZXJPZHNJZCkge1xuICAgIGxldCBvd25lcklkID0gY3R4W2NvbmZpZ3VyYXRpb24udGFza093bmVyT2RzSWRdO1xuICAgIGlmIChvd25lcklkKSB7XG4gICAgICAgIHRhc2sgPSB0YXNrLkFzc2lnbihcInByaW1hcnktb3duZXJcIikuVG8ob3duZXJJZCk7XG4gICAgfVxufSBcblxuXG5cbmlmIChjb25maWd1cmF0aW9uLmFzc2lnbm1lbnRzKSB7XG4gICAgY29uZmlndXJhdGlvbi5hc3NpZ25tZW50cy5mb3JFYWNoKChhc3NpZ25tZW50OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnQub2RzSWRWYXJpYWJsZU5hbWUpIHtcbiAgICAgICAgICAgIHRhc2sgPSB0YXNrLkFzc2lnbihhc3NpZ25tZW50LnJvbGVTeXN0ZW1OYW1lKS5UbyhjdHhbYXNzaWdubWVudC5vZHNJZFZhcmlhYmxlTmFtZV0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cblxuXG5pZiAoY29uZmlndXJhdGlvbi5hZGRBY3Rpb25QbGFuKSB7XG4gICAgLy8gQWRkIGFjdGlvbiBwbGFuXG4gICAgbGV0IGFjdGlvblBsYW5CdWlsZGVyID0gdGFza1xuICAgICAgICAuV2l0aEFjdGlvblBsYW4oKVxuICAgICAgICAuV2l0aFRpdGxlKHNoYXJlZG8uYnVpbGRTdHJpbmcoY29uZmlndXJhdGlvbi5hY3Rpb25QbGFuVGl0bGUpKTtcblxuICAgIC8vIEFkZCBhY3Rpb24gcGxhbiBpdGVtc1xuICAgIGlmIChjb25maWd1cmF0aW9uLmFjdGlvblBsYW5JdGVtc0xpc3QpIHtcbiAgICAgICAgbGV0IGl0ZW1zQXNTdHJpbmcgPSBjdHhbY29uZmlndXJhdGlvbi5hY3Rpb25QbGFuSXRlbXNMaXN0XSBhcyBJQWN0aW9uUGxhbltdO1xuXG4gICAgICAgIGxvZy5JbmZvcm1hdGlvbignKioqIGl0ZW1zQXNTdHJpbmc6Jyk7XG4gICAgICAgIGxvZy5JbmZvcm1hdGlvbihKU09OLnN0cmluZ2lmeShpdGVtc0FzU3RyaW5nKSk7XG5cbiAgICAgICAgaWYgKGl0ZW1zQXNTdHJpbmcpIHtcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IGl0ZW1zQXNTdHJpbmc7Ly9KU09OLnBhcnNlKGl0ZW1zQXNTdHJpbmcpIGFzIEFycmF5PGFueT47XG4gICAgICAgICAgICBpdGVtcy5zbGljZSgpXG4gICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IE51bWJlci5wYXJzZUludChhLm9yZGVyLCAxMCkgLSBOdW1iZXIucGFyc2VJbnQoYi5vcmRlciwgMTApKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZy5JbmZvcm1hdGlvbignKioqIGk6Jyk7XG4gICAgICAgICAgICAgICAgICAgIGxvZy5JbmZvcm1hdGlvbignZGVzY3JpcHRpb246ICcgKyBpLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nLkluZm9ybWF0aW9uKCd0eXBlOiAnICsgaS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nLkluZm9ybWF0aW9uKCdvcmRlcjogJyArIGkub3JkZXIpO1xuICAgICAgICAgICAgICAgICAgICBsb2cuSW5mb3JtYXRpb24oJyoqKioqKioqKionKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFjdGlvblBsYW5JdGVtID0gYnVpbGRBY3Rpb25QbGFuKGkpO1xuICAgICAgICAgICAgICAgICAgICBsb2cuSW5mb3JtYXRpb24oJyoqKiBhY3Rpb25QbGFuSXRlbTonKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nLkluZm9ybWF0aW9uKEpTT04uc3RyaW5naWZ5KGFjdGlvblBsYW5JdGVtKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uUGxhbkJ1aWxkZXIgPSBhY3Rpb25QbGFuQnVpbGRlci5BZGRJdGVtKGFjdGlvblBsYW5JdGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbG9nLkluZm9ybWF0aW9uKCcqKiogYWN0aW9uUGxhbkJ1aWxkZXI6Jyk7XG4gICAgbG9nLkluZm9ybWF0aW9uKEpTT04uc3RyaW5naWZ5KGFjdGlvblBsYW5CdWlsZGVyKSk7XG5cbiAgICB0YXNrID0gYWN0aW9uUGxhbkJ1aWxkZXIuQnVpbGQoKTtcblxuICAgIGxvZy5JbmZvcm1hdGlvbignKioqIGZpbmFsIFRhc2s6Jyk7XG4gICAgbG9nLkluZm9ybWF0aW9uKEpTT04uc3RyaW5naWZ5KHRhc2spKTtcblxuXG59XG5cbi8vIG91dHB1dE9iamVjdCh0YXNrLFwicHJlIHNhdmVcIik7XG5cbnRhc2suU2F2ZSgpO1xuXG5cbmlmIChjb25maWd1cmF0aW9uLmluc3RhbmNlVGFnKSB7XG4gICAgbG9nLkluZm9ybWF0aW9uKCcqKiogVXBkYXRpbmcgdGhlIEluc3RhbmNlIFRhZyAqKioqJyk7XG4gICAgXG4gICAgbGV0IG1vZGVsID0ge1xuICAgICAgICB2YWx1ZTogY29uZmlndXJhdGlvbi5pbnN0YW5jZVRhZ1xuICAgIH07XG5cbiAgICBsZXQgdXJsPWAvYXBpL3YxL3B1YmxpYy93b3JrSXRlbS8ke3Rhc2tJZC5Ub1N0cmluZygpfS9hdHRyaWJ1dGVzL2luc3RhbmNlVGFnYDtcbiAgICBsb2cuSW5mb3JtYXRpb24oYHVybDogJHt1cmx9YCk7XG4gICAgbGV0IHJlc3VsdDogSVNoYXJlRG9HZXRSZXNwb25zZTxhbnk+ID0gc2hhcmVkby5odHRwLnBvc3QodXJsLCBtb2RlbCk7XG4gICAgXG4gICAgaWYoIXJlc3VsdC5zdWNjZXNzKVxuICAgIHtcbiAgICAgICAgbG9nLkVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIEluc3RhbmNlVGFnIEF0dHJpYnV0ZTogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQpfWApO1xuICAgICAgICBsb2cuSW5mb3JtYXRpb24oYEpTT046ICR7SlNPTi5zdHJpbmdpZnkocmVzdWx0KX1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIEluc3RhbmNlVGFnIEF0dHJpYnV0ZSFgKTtcbiAgICB9XG4gICBcbiAgICBsb2cuSW5mb3JtYXRpb24oYEluc3RhbmNlVGFnIEF0dHJpYnV0ZSBVcGRhdGVkIWApO1xuICAgIGxvZy5JbmZvcm1hdGlvbignKioqIFVwZGF0aW5nIHRoZSBJbnN0YW5jZSBUYWcgQ29tcGxhdGVkICoqKionKTtcbn1cblxuXG4vLyBvdXRwdXRPYmplY3QodGFzayxcInBvc3Qgc2F2ZVwiKTtcblxubG9nLkluZm9ybWF0aW9uKCcqKiogdGFzayBwb3N0IHNhdmU6Jyk7XG5sb2cuSW5mb3JtYXRpb24oSlNPTi5zdHJpbmdpZnkodGFzaykpO1xuXG5cbi8vIGlmKGNvbmZpZ3VyYXRpb24uaW5zdGFuY2VUYWcpXG4vLyB7XG4vLyAgICAgdGFzay5pbnN0YW5jZVRhZyhjb25maWd1cmF0aW9uLmluc3RhbmNlVGFnKTtcbi8vIH1cblxuXG5mdW5jdGlvbiBidWlsZEFjdGlvblBsYW4oYWN0aW9uUGxhbk1vZGVsOiBJQWN0aW9uUGxhbik6IGFueSB7XG4gICAgbG9nLkluZm9ybWF0aW9uKFwiKioqIGZ1bmN0aW9uIGJ1aWxkQWN0aW9uUGxhbigpXCIpO1xuICAgIGxldCBhY3Rpb25QbGFuID0gYWN0aW9ucy5zaGFyZWRvLkJ1aWxkQWN0aW9uUGxhbkl0ZW0oKTtcblxuICAgIGFjdGlvblBsYW4gPSBhY3Rpb25QbGFuLldpdGhEZXNjcmlwdGlvbihhY3Rpb25QbGFuTW9kZWwuZGVzY3JpcHRpb24pO1xuXG4gICAgbGV0IHR5cGUgPSBhY3Rpb25QbGFuTW9kZWwudHlwZTtcblxuICAgIGlmICh0eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgYWN0aW9uUGxhbiA9IGFjdGlvblBsYW4uQWRkQ2hlY2tib3goKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gXCJpbmZvYm94XCIpIHtcbiAgICAgICAgYWN0aW9uUGxhbiA9IGFjdGlvblBsYW4uQWRkSW5mb3JtYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gXCJoZWFkZXJcIikge1xuICAgICAgICBhY3Rpb25QbGFuID0gYWN0aW9uUGxhbi5BZGRIZWFkZXIoKTtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uUGxhbk1vZGVsLm1hbmRhdG9yeSkge1xuICAgICAgICBhY3Rpb25QbGFuID0gYWN0aW9uUGxhbi5NYXJrUmVxdWlyZWQoKTtcbiAgICB9XG5cbiAgICBsZXQgb3JkZXIgPSBhY3Rpb25QbGFuTW9kZWwub3JkZXI7XG4gICAgYWN0aW9uUGxhbiA9IGFjdGlvblBsYW4uV2l0aE9yZGVyKG9yZGVyKTtcblxuXG4gICAgaWYgKGFjdGlvblBsYW5Nb2RlbC5jYWxsVG9BY3Rpb25WYXIpIHtcbiAgICAgICAgbGV0IGNhbGxUb0FjdGlvbiA9IGFjdGlvblBsYW5Nb2RlbC5jYWxsVG9BY3Rpb25WYXI7XG4gICAgICAgIGlmICghY2FsbFRvQWN0aW9uKSB7XG4gICAgICAgICAgICBsb2cuV2FybmluZyhcIkNyZWF0ZSBhY3Rpb24gcGxhbiAtIGEgY2FsbCB0byBhY3Rpb24gdmFyaWFibGUgKCRtb2RlbC5Db25maWd1cmF0aW9uLmNhbGxUb0FjdGlvblZhcikgd2FzIHNwZWNpZmllZCBidXQgd2FzIGVtcHR5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGN0YSA9IGJ1aWxkQ2FsbFRvQWN0aW9uKGNhbGxUb0FjdGlvbik7XG4gICAgICAgICAgICBhY3Rpb25QbGFuID0gYWN0aW9uUGxhbi5XaXRoQ2FsbFRvQWN0aW9uKGN0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGxldCBwbGFuID0gYWN0aW9uUGxhbi5CdWlsZCgpO1xuICAgIGxvZy5JbmZvcm1hdGlvbihcIioqKiBmdW5jdGlvbiBidWlsZEFjdGlvblBsYW4oKSBmaW5pc2hlZFwiKTtcbiAgICByZXR1cm4gcGxhbjtcblxufVxuXG5cblxuXG5mdW5jdGlvbiBidWlsZENhbGxUb0FjdGlvbihjYWxsVG9BY3Rpb25Nb2RlbDogSUNhbGxUb0FjdGlvbik6IGFueSB8IHVuZGVmaW5lZCB7XG4gICAgbG9nLkluZm9ybWF0aW9uKFwiKioqKioqKioqKiogZnVuY3Rpb24gYnVpbGRDYWxsVG9BY3Rpb24oKSAqKioqKioqKioqKioqKioqKlwiKTtcbiAgICBsb2cuSW5mb3JtYXRpb24oXCIqKioqKioqKioqKiotRGF0YS0qKioqKioqKioqKioqKioqXCIpO1xuICAgIGxvZy5JbmZvcm1hdGlvbihKU09OLnN0cmluZ2lmeShjYWxsVG9BY3Rpb25Nb2RlbCkpO1xuICAgIGxvZy5JbmZvcm1hdGlvbihcIioqKioqKioqKioqKioqKioqKioqKioqKioqKipcIik7XG4gICAgbGV0IGN0YSA9IGFjdGlvbnMuc2hhcmVkb1xuICAgICAgICAuQnVpbGRDYWxsVG9BY3Rpb24oKVxuICAgICAgICAuV2l0aERpc3BsYXkoY2FsbFRvQWN0aW9uTW9kZWwudGl0bGUpO1xuICAgIGlmIChjYWxsVG9BY3Rpb25Nb2RlbC5zdHlsZXMpIHtcbiAgICAgICAgY3RhID0gY3RhLldpdGhTdHlsZXMoY2FsbFRvQWN0aW9uTW9kZWwuc3R5bGVzKTtcbiAgICB9XG4gICAgY3RhID0gY3RhLkJ1aWxkKCk7XG5cbiAgICBjdGEuQ2FsbFRvQWN0aW9uQ29udGV4dFR5cGUgPSBjYWxsVG9BY3Rpb25Nb2RlbC5jb250ZXh0VHlwZVxuXG5cbiAgICBsb2cuSW5mb3JtYXRpb24oXCJDb250ZXh0SWRWYXJpYWJsZTogXCIgKyBjYWxsVG9BY3Rpb25Nb2RlbC5jb250ZXh0SWRWYXJpYWJsZSk7XG4gICAgaWYgKGNhbGxUb0FjdGlvbk1vZGVsLmNvbnRleHRJZFZhcmlhYmxlKSB7XG4gICAgICAgIGxldCBjb250ZXh0SWQgPSBjdHhbY2FsbFRvQWN0aW9uTW9kZWwuY29udGV4dElkVmFyaWFibGVdO1xuICAgICAgICBpZiAoY29udGV4dElkKSB7XG5cbiAgICAgICAgICAgIGxvZy5JbmZvcm1hdGlvbihgdHlwZW9mIGNvbnRleHRJZDogJHt0eXBlb2YgY29udGV4dElkfWApO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0SWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dElkID0gR3VpZC5QYXJzZShjb250ZXh0SWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2cuSW5mb3JtYXRpb24oXCJDb250ZXh0SWQ6IFwiICsgY29udGV4dElkKTtcbiAgICAgICAgICAgIGN0YS5DYWxsVG9BY3Rpb25Db250ZXh0SWQgPSBjb250ZXh0SWQ7XG4gICAgICAgICAgICBsb2cuSW5mb3JtYXRpb24oXCJjdGEuQ2FsbFRvQWN0aW9uQ29udGV4dElkOiBcIiArIGN0YS5DYWxsVG9BY3Rpb25Db250ZXh0SWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nLldhcm5pbmcoYENvbnRleHRJZFZhcmlhYmxlOiAke2NhbGxUb0FjdGlvbk1vZGVsLmNvbnRleHRJZFZhcmlhYmxlfSB3YXMgbm90IGZvdW5kIGluIHRoZSBjb250ZXh0YCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGN0YS5DYWxsVG9BY3Rpb25Db21tYW5kID0gY2FsbFRvQWN0aW9uTW9kZWwuY29tbWFuZDtcblxuICAgIC8vIGlmTm90TnVsbC5Db25maWd1cmF0aW9uLmNvbW1hbmRDb25maWdcbiAgICBpZiAoY2FsbFRvQWN0aW9uTW9kZWwuY29tbWFuZENvbmZpZykge1xuICAgICAgICBjdGEuQ2FsbFRvQWN0aW9uQ29tbWFuZENvbmZpZ3VyYXRpb24gPSBjYWxsVG9BY3Rpb25Nb2RlbC5jb21tYW5kQ29uZmlnO1xuICAgIH1cbiAgICAvLyBlbmRpZlxuXG4gICAgLy8gaWZOdWxsLkNvbmZpZ3VyYXRpb24uY29tbWFuZENvbmZpZ1xuICAgIGlmICghY2FsbFRvQWN0aW9uTW9kZWwuY29tbWFuZENvbmZpZykge1xuICAgICAgICBjdGEuQ2FsbFRvQWN0aW9uQ29tbWFuZENvbmZpZ3VyYXRpb24gPSBcInt9XCI7XG4gICAgfVxuICAgIC8vIGVuZGlmXG5cbiAgICAvLyBpZk5vdE51bGwuQ29uZmlndXJhdGlvbi5pY29uXG4gICAgaWYgKGNhbGxUb0FjdGlvbk1vZGVsLmljb24pIHtcbiAgICAgICAgY3RhLkNhbGxUb0FjdGlvbkljb24gPSBjYWxsVG9BY3Rpb25Nb2RlbC5pY29uO1xuICAgIH1cbiAgICAvLyBlbmRpZjsgICAgXG5cbiAgICAvLyBpZk5vdE51bGwuQ29uZmlndXJhdGlvbi5jc3NcbiAgICBpZiAoY2FsbFRvQWN0aW9uTW9kZWwuY3NzKSB7XG4gICAgICAgIGN0YS5DYWxsVG9BY3Rpb25Dc3MgPSBjYWxsVG9BY3Rpb25Nb2RlbC5jc3M7XG4gICAgfVxuICAgIC8vIGVuZGlmO1xuICAgIGxvZy5JbmZvcm1hdGlvbignKioqKiBidWlsZENhbGxUb0FjdGlvbiBmaW5pc2hlZCcpO1xuICAgIHJldHVybiBjdGE7XG5cbn1cblxuZnVuY3Rpb24gb3V0cHV0T2JqZWN0KG9iajogYW55LCBuYW1lOiBzdHJpbmcpIHtcbiAgICBsb2cuSW5mb3JtYXRpb24oXCJcIik7XG4gICAgbG9nLkluZm9ybWF0aW9uKFwiLS0tLS0gT2JqW1wiICsgbmFtZSArIFwiXSAtLS0tLS0tXCIpO1xuICAgIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgbG9nLkluZm9ybWF0aW9uKFwiZnVuY3Rpb24gXCIgKyBrZXkpO1xuICAgICAgICAgICAgbGV0IGluZm8gPSBKU09OLnN0cmluZ2lmeShvYmpba2V5XSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGluZm8gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgbG9nLkluZm9ybWF0aW9uKGluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nLkluZm9ybWF0aW9uKGtleSArIFwiIDogXCIgKyBvYmpba2V5XSk7XG4gICAgICAgICAgICBsb2cuSW5mb3JtYXRpb24oSlNPTi5zdHJpbmdpZnkob2JqW2tleV0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2cuSW5mb3JtYXRpb24oXCItLS0tLSBPYmogRW5kIFwiICsgbmFtZSArIFwiLS0tLS0tLVwiKTtcbiAgICBsb2cuSW5mb3JtYXRpb24oXCJcIik7XG59Il0sCiAgIm1hcHBpbmdzIjogIjs7O0FBSUEsSUFBSSxjQUFjLE9BQU87QUFDekIsSUFBSSxnQkFBZ0IsT0FBTztBQUMzQixJQUFJLFNBQVMsS0FBSyxRQUFRO0FBQzFCLElBQUksUUFBUSxTQUFTO0FBRXJCLElBQUksWUFBWSxVQUFVLFlBQUssVUFBVSxNQUFNLEVBQUc7QUFDbEQsSUFBSSxZQUFZLFVBQVUsY0FBTyxTQUFTLEVBQUc7QUFLN0MsSUFBSSxjQUFjLGdCQUFnQjtBQUM5QixNQUFJLGNBQWMsY0FBYyxJQUFJLE9BQU8sU0FBUztBQUN4RDtBQUlBLElBQUksY0FBYyxXQUFXO0FBQ3pCLE1BQUksY0FBYyxXQUFXO0FBQ3pCLFlBQVEsU0FBUyxJQUFJLFFBQVEsT0FBTyxjQUFjLFNBQVM7QUFBQSxFQUMvRDtBQUNKO0FBSUEsSUFBSSxjQUFjLGVBQWU7QUFDN0IsVUFBUSxTQUFTLE1BQU0sSUFBSSxjQUFjLGFBQWEsQ0FBQztBQUMzRDtBQVFBLElBQUksT0FBTyxRQUFRLFFBQVEsVUFBVTtBQU1yQyxPQUFPLEtBQUssT0FBTyxNQUFNLEVBQ3BCLE9BQU8sY0FBYyxRQUFRLEVBQzdCLFVBQVUsUUFBUSxZQUFZLGNBQWMsU0FBUyxDQUFDLEVBQ3RELE1BQU0sS0FBSztBQU1oQixJQUFJLFlBQVksV0FBVyxHQUFHO0FBQzFCLE9BQUssVUFBVSxZQUFZLFdBQVcsRUFBRSxJQUFJO0FBQ2hEO0FBQ0EsSUFBSSxZQUFZLFlBQVksR0FBRztBQUMzQixPQUFLLFdBQVcsWUFBWSxZQUFZLEVBQUUsSUFBSTtBQUNsRDtBQUdBLElBQUksY0FBYyxLQUFLO0FBQ25CLE9BQUssUUFBUSxRQUFRLFlBQVksY0FBYyxHQUFHLENBQUM7QUFDdkQ7QUFFQSxJQUFJLGNBQWMsWUFBWTtBQUMxQixPQUFLLGVBQWUsT0FBTyxjQUFjLFVBQVU7QUFDdkQ7QUFLQSxJQUFJLGNBQWMsZUFBZTtBQUM3QixPQUFLLGNBQWMsWUFBWSxlQUFlLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ2hFO0FBRUEsSUFBSSxjQUFjLGNBQWM7QUFDNUIsZ0JBQWMsYUFBYSxRQUFRLENBQUMsV0FBZ0I7QUFDaEQsUUFBSSxZQUFZLE9BQU8sVUFBVSxHQUFHO0FBQ2hDLFdBQUssUUFBUSxPQUFPLFlBQVksWUFBWSxPQUFPLFVBQVUsRUFBRSxJQUFJO0FBQUEsSUFDdkU7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUlBLElBQUksY0FBYyxrQkFBa0I7QUFDaEMsTUFBSSxXQUFXLElBQUksY0FBYyxnQkFBZ0I7QUFDakQsTUFBSSxVQUFVO0FBQ1YsV0FBTyxLQUFLLFdBQVcsUUFBUTtBQUFBLEVBQ25DO0FBQ0o7QUFJQSxJQUFJLGNBQWMsZ0JBQWdCO0FBQzlCLE1BQUksVUFBVSxJQUFJLGNBQWMsY0FBYztBQUM5QyxNQUFJLFNBQVM7QUFDVCxXQUFPLEtBQUssT0FBTyxlQUFlLEVBQUUsR0FBRyxPQUFPO0FBQUEsRUFDbEQ7QUFDSjtBQUlBLElBQUksY0FBYyxhQUFhO0FBQzNCLGdCQUFjLFlBQVksUUFBUSxDQUFDLGVBQW9CO0FBQ25ELFFBQUksV0FBVyxtQkFBbUI7QUFDOUIsYUFBTyxLQUFLLE9BQU8sV0FBVyxjQUFjLEVBQUUsR0FBRyxJQUFJLFdBQVcsaUJBQWlCLENBQUM7QUFBQSxJQUN0RjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBSUEsSUFBSSxjQUFjLGVBQWU7QUFFN0IsTUFBSSxvQkFBb0IsS0FDbkIsZUFBZSxFQUNmLFVBQVUsUUFBUSxZQUFZLGNBQWMsZUFBZSxDQUFDO0FBR2pFLE1BQUksY0FBYyxxQkFBcUI7QUFDbkMsUUFBSSxnQkFBZ0IsSUFBSSxjQUFjLG1CQUFtQjtBQUV6RCxRQUFJLFlBQVksb0JBQW9CO0FBQ3BDLFFBQUksWUFBWSxLQUFLLFVBQVUsYUFBYSxDQUFDO0FBRTdDLFFBQUksZUFBZTtBQUNmLFVBQUksUUFBUTtBQUNaLFlBQU0sTUFBTSxFQUNQLEtBQUssQ0FBQyxHQUFHLE1BQU0sT0FBTyxTQUFTLEVBQUUsT0FBTyxFQUFFLElBQUksT0FBTyxTQUFTLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFDMUUsUUFBUSxTQUFVLEdBQUc7QUFDbEIsWUFBSSxZQUFZLFFBQVE7QUFDeEIsWUFBSSxZQUFZLGtCQUFrQixFQUFFLFdBQVc7QUFDL0MsWUFBSSxZQUFZLFdBQVcsRUFBRSxJQUFJO0FBQ2pDLFlBQUksWUFBWSxZQUFZLEVBQUUsS0FBSztBQUNuQyxZQUFJLFlBQVksWUFBWTtBQUM1QixZQUFJLGlCQUFpQixnQkFBZ0IsQ0FBQztBQUN0QyxZQUFJLFlBQVkscUJBQXFCO0FBQ3JDLFlBQUksWUFBWSxLQUFLLFVBQVUsY0FBYyxDQUFDO0FBRTlDLDRCQUFvQixrQkFBa0IsUUFBUSxjQUFjO0FBQUEsTUFDaEUsQ0FBQztBQUFBLElBQ1Q7QUFBQSxFQUNKO0FBR0EsTUFBSSxZQUFZLHdCQUF3QjtBQUN4QyxNQUFJLFlBQVksS0FBSyxVQUFVLGlCQUFpQixDQUFDO0FBRWpELFNBQU8sa0JBQWtCLE1BQU07QUFFL0IsTUFBSSxZQUFZLGlCQUFpQjtBQUNqQyxNQUFJLFlBQVksS0FBSyxVQUFVLElBQUksQ0FBQztBQUd4QztBQUlBLEtBQUssS0FBSztBQUdWLElBQUksY0FBYyxhQUFhO0FBQzNCLE1BQUksWUFBWSxvQ0FBb0M7QUFFcEQsTUFBSSxRQUFRO0FBQUEsSUFDUixPQUFPLGNBQWM7QUFBQSxFQUN6QjtBQUVBLE1BQUksTUFBSSwyQkFBMkIsY0FBTyxTQUFTLEdBQUM7QUFDcEQsTUFBSSxZQUFZLFFBQVEsV0FBSztBQUM3QixNQUFJLFNBQW1DLFFBQVEsS0FBSyxLQUFLLEtBQUssS0FBSztBQUVuRSxNQUFHLENBQUMsT0FBTyxTQUNYO0FBQ0ksUUFBSSxNQUFNLDJDQUEyQyxZQUFLLFVBQVUsTUFBTSxFQUFHO0FBQzdFLFFBQUksWUFBWSxTQUFTLFlBQUssVUFBVSxNQUFNLEVBQUc7QUFDakQsVUFBTSxJQUFJLE1BQU0seUNBQXlDO0FBQUEsRUFDN0Q7QUFFQSxNQUFJLFlBQVksZ0NBQWdDO0FBQ2hELE1BQUksWUFBWSw4Q0FBOEM7QUFDbEU7QUFLQSxJQUFJLFlBQVkscUJBQXFCO0FBQ3JDLElBQUksWUFBWSxLQUFLLFVBQVUsSUFBSSxDQUFDO0FBU3BDLFNBQVMsZ0JBQWdCLGlCQUFtQztBQUN4RCxNQUFJLFlBQVksZ0NBQWdDO0FBQ2hELE1BQUksYUFBYSxRQUFRLFFBQVEsb0JBQW9CO0FBRXJELGVBQWEsV0FBVyxnQkFBZ0IsZ0JBQWdCLFdBQVc7QUFFbkUsTUFBSSxPQUFPLGdCQUFnQjtBQUUzQixNQUFJLFNBQVMsWUFBWTtBQUNyQixpQkFBYSxXQUFXLFlBQVk7QUFBQSxFQUN4QztBQUVBLE1BQUksU0FBUyxXQUFXO0FBQ3BCLGlCQUFhLFdBQVcsZUFBZTtBQUFBLEVBQzNDO0FBRUEsTUFBSSxTQUFTLFVBQVU7QUFDbkIsaUJBQWEsV0FBVyxVQUFVO0FBQUEsRUFDdEM7QUFFQSxNQUFJLGdCQUFnQixXQUFXO0FBQzNCLGlCQUFhLFdBQVcsYUFBYTtBQUFBLEVBQ3pDO0FBRUEsTUFBSSxRQUFRLGdCQUFnQjtBQUM1QixlQUFhLFdBQVcsVUFBVSxLQUFLO0FBR3ZDLE1BQUksZ0JBQWdCLGlCQUFpQjtBQUNqQyxRQUFJLGVBQWUsZ0JBQWdCO0FBQ25DLFFBQUksQ0FBQyxjQUFjO0FBQ2YsVUFBSSxRQUFRLG1IQUFtSDtBQUFBLElBQ25JLE9BQ0s7QUFDRCxVQUFJLE1BQU0sa0JBQWtCLFlBQVk7QUFDeEMsbUJBQWEsV0FBVyxpQkFBaUIsR0FBRztBQUFBLElBQ2hEO0FBQUEsRUFDSjtBQUdBLE1BQUksT0FBTyxXQUFXLE1BQU07QUFDNUIsTUFBSSxZQUFZLHlDQUF5QztBQUN6RCxTQUFPO0FBRVg7QUFLQSxTQUFTLGtCQUFrQixtQkFBbUQ7QUFDMUUsTUFBSSxZQUFZLDREQUE0RDtBQUM1RSxNQUFJLFlBQVksb0NBQW9DO0FBQ3BELE1BQUksWUFBWSxLQUFLLFVBQVUsaUJBQWlCLENBQUM7QUFDakQsTUFBSSxZQUFZLDhCQUE4QjtBQUM5QyxNQUFJLE1BQU0sUUFBUSxRQUNiLGtCQUFrQixFQUNsQixZQUFZLGtCQUFrQixLQUFLO0FBQ3hDLE1BQUksa0JBQWtCLFFBQVE7QUFDMUIsVUFBTSxJQUFJLFdBQVcsa0JBQWtCLE1BQU07QUFBQSxFQUNqRDtBQUNBLFFBQU0sSUFBSSxNQUFNO0FBRWhCLE1BQUksMEJBQTBCLGtCQUFrQjtBQUdoRCxNQUFJLFlBQVksd0JBQXdCLGtCQUFrQixpQkFBaUI7QUFDM0UsTUFBSSxrQkFBa0IsbUJBQW1CO0FBQ3JDLFFBQUksWUFBWSxJQUFJLGtCQUFrQixpQkFBaUI7QUFDdkQsUUFBSSxXQUFXO0FBRVgsVUFBSSxZQUFZLHFCQUFxQixjQUFPLFVBQVc7QUFDdkQsVUFBSSxPQUFPLGNBQWMsVUFBVTtBQUMvQixvQkFBWSxLQUFLLE1BQU0sU0FBUztBQUFBLE1BQ3BDO0FBRUEsVUFBSSxZQUFZLGdCQUFnQixTQUFTO0FBQ3pDLFVBQUksd0JBQXdCO0FBQzVCLFVBQUksWUFBWSxnQ0FBZ0MsSUFBSSxxQkFBcUI7QUFBQSxJQUM3RSxPQUNLO0FBQ0QsVUFBSSxRQUFRLHNCQUFzQix5QkFBa0IsbUJBQWlCLGdDQUErQjtBQUFBLElBQ3hHO0FBQUEsRUFDSjtBQUdBLE1BQUksc0JBQXNCLGtCQUFrQjtBQUc1QyxNQUFJLGtCQUFrQixlQUFlO0FBQ2pDLFFBQUksbUNBQW1DLGtCQUFrQjtBQUFBLEVBQzdEO0FBSUEsTUFBSSxDQUFDLGtCQUFrQixlQUFlO0FBQ2xDLFFBQUksbUNBQW1DO0FBQUEsRUFDM0M7QUFJQSxNQUFJLGtCQUFrQixNQUFNO0FBQ3hCLFFBQUksbUJBQW1CLGtCQUFrQjtBQUFBLEVBQzdDO0FBSUEsTUFBSSxrQkFBa0IsS0FBSztBQUN2QixRQUFJLGtCQUFrQixrQkFBa0I7QUFBQSxFQUM1QztBQUVBLE1BQUksWUFBWSxpQ0FBaUM7QUFDakQsU0FBTztBQUVYOyIsCiAgIm5hbWVzIjogW10KfQo=
