{"version":3,"file":"BuildActionPlan.js","names":["buildActionPlan","actionPlanModel","actionPlan","actions","sharedo","BuildActionPlanItem","WithDescription","description","type","AddCheckbox","AddInformation","AddHeader","mandatory","MarkRequired","order","WithOrder","callToActionVar","callToAction","log","Warning","WithCallToAction","buildCallToAction","plan","Build","callToActionModel","cta","BuildCallToAction","WithDisplay","title","styles","WithStyles","CallToActionContextType","contextType","contextIdVariable","CallToActionContextId","Guid","Parse","CallToActionCommand","command","CallToActionCommandConfiguration","commandConfig","CallToActionIcon","icon","CallToActionCss","css"],"sources":["../../../src/NodeBased/WorkflowActions/Common/BuildActionPlan.ts"],"sourcesContent":["\nexport function buildActionPlan(actionPlanModel: IActionPlan): any\n{\n\n    let actionPlan = actions.sharedo.BuildActionPlanItem();\n\nactionPlan = actionPlan.WithDescription(actionPlanModel.description);\n\nlet type = actionPlanModel.type;\n\nif (type === \"checkbox\") {\n    actionPlan = actionPlan.AddCheckbox();\n}\n\nif (type === \"infobox\") {\n    actionPlan = actionPlan.AddInformation();\n}\n\nif (type === \"header\") {\n    actionPlan = actionPlan.AddHeader();\n}\n\n// $if.Configuration.mandatory\nif(actionPlanModel.mandatory)\n{\n    actionPlan = actionPlan.MarkRequired();\n}\n// $endif\n\nlet order = actionPlanModel.order;\nactionPlan = actionPlan.WithOrder(order);\n\n// $ifNotNull.Configuration.callToActionVar\nif(actionPlanModel.callToActionVar)\n{\n    let callToAction = actionPlanModel.callToActionVar;\n    if (!callToAction)\n    {\n        log.Warning(\"Create action plan - a call to action variable ($model.Configuration.callToActionVar) was specified but was empty\");\n    }\n    else\n    {\n        actionPlan = actionPlan.WithCallToAction(buildCallToAction(callToAction));\n    }\n}\n// $endif\n\nlet plan = actionPlan.Build();\n\nreturn plan;\n\n}\n\n\n\n\nexport function buildCallToAction(callToActionModel: ICallToAction): any | undefined\n{\n    let cta = actions.sharedo\n    .BuildCallToAction()\n    .WithDisplay(callToActionModel.title);\n    if(callToActionModel.styles)\n    {\n        cta = cta.WithStyles(callToActionModel.styles);\n    }\n\n// $ifNotNull.Configuration.styles\n    //.WithStyles(\"$model.Configuration.styles\")\n// $endif\n    cta = cta.Build();\n\ncta.CallToActionContextType = callToActionModel.contextType\n\n// $ifNotNull.Configuration.contextIdVariable\nif(callToActionModel.contextIdVariable)\n{\n    cta.CallToActionContextId = Guid.Parse(callToActionModel.contextIdVariable);\n}\n// $endif\n\ncta.CallToActionCommand = callToActionModel.command;\n\n// $ifNotNull.Configuration.commandConfig\ncta.CallToActionCommandConfiguration = callToActionModel.commandConfig;\n// $endif\n\n// $ifNull.Configuration.commandConfig\ncta.CallToActionCommandConfiguration = \"{}\";\n// $endif\n\n// $ifNotNull.Configuration.icon\ncta.CallToActionIcon =  callToActionModel.icon;\n// $endif;    \n\n// $ifNotNull.Configuration.css\ncta.CallToActionCss =   callToActionModel.css;\n// $endif;\n\nreturn cta;\n\n}"],"mappings":"AACA,OAAO,SAASA,eAAeA,CAACC,eAA4B,EAC5D;EAEI,IAAIC,UAAU,GAAGC,OAAO,CAACC,OAAO,CAACC,mBAAmB,CAAC,CAAC;EAE1DH,UAAU,GAAGA,UAAU,CAACI,eAAe,CAACL,eAAe,CAACM,WAAW,CAAC;EAEpE,IAAIC,IAAI,GAAGP,eAAe,CAACO,IAAI;EAE/B,IAAIA,IAAI,KAAK,UAAU,EAAE;IACrBN,UAAU,GAAGA,UAAU,CAACO,WAAW,CAAC,CAAC;EACzC;EAEA,IAAID,IAAI,KAAK,SAAS,EAAE;IACpBN,UAAU,GAAGA,UAAU,CAACQ,cAAc,CAAC,CAAC;EAC5C;EAEA,IAAIF,IAAI,KAAK,QAAQ,EAAE;IACnBN,UAAU,GAAGA,UAAU,CAACS,SAAS,CAAC,CAAC;EACvC;;EAEA;EACA,IAAGV,eAAe,CAACW,SAAS,EAC5B;IACIV,UAAU,GAAGA,UAAU,CAACW,YAAY,CAAC,CAAC;EAC1C;EACA;;EAEA,IAAIC,KAAK,GAAGb,eAAe,CAACa,KAAK;EACjCZ,UAAU,GAAGA,UAAU,CAACa,SAAS,CAACD,KAAK,CAAC;;EAExC;EACA,IAAGb,eAAe,CAACe,eAAe,EAClC;IACI,IAAIC,YAAY,GAAGhB,eAAe,CAACe,eAAe;IAClD,IAAI,CAACC,YAAY,EACjB;MACIC,GAAG,CAACC,OAAO,CAAC,mHAAmH,CAAC;IACpI,CAAC,MAED;MACIjB,UAAU,GAAGA,UAAU,CAACkB,gBAAgB,CAACC,iBAAiB,CAACJ,YAAY,CAAC,CAAC;IAC7E;EACJ;EACA;;EAEA,IAAIK,IAAI,GAAGpB,UAAU,CAACqB,KAAK,CAAC,CAAC;EAE7B,OAAOD,IAAI;AAEX;AAKA,OAAO,SAASD,iBAAiBA,CAACG,iBAAgC,EAClE;EACI,IAAIC,GAAG,GAAGtB,OAAO,CAACC,OAAO,CACxBsB,iBAAiB,CAAC,CAAC,CACnBC,WAAW,CAACH,iBAAiB,CAACI,KAAK,CAAC;EACrC,IAAGJ,iBAAiB,CAACK,MAAM,EAC3B;IACIJ,GAAG,GAAGA,GAAG,CAACK,UAAU,CAACN,iBAAiB,CAACK,MAAM,CAAC;EAClD;;EAEJ;EACI;EACJ;EACIJ,GAAG,GAAGA,GAAG,CAACF,KAAK,CAAC,CAAC;EAErBE,GAAG,CAACM,uBAAuB,GAAGP,iBAAiB,CAACQ,WAAW;;EAE3D;EACA,IAAGR,iBAAiB,CAACS,iBAAiB,EACtC;IACIR,GAAG,CAACS,qBAAqB,GAAGC,IAAI,CAACC,KAAK,CAACZ,iBAAiB,CAACS,iBAAiB,CAAC;EAC/E;EACA;;EAEAR,GAAG,CAACY,mBAAmB,GAAGb,iBAAiB,CAACc,OAAO;;EAEnD;EACAb,GAAG,CAACc,gCAAgC,GAAGf,iBAAiB,CAACgB,aAAa;EACtE;;EAEA;EACAf,GAAG,CAACc,gCAAgC,GAAG,IAAI;EAC3C;;EAEA;EACAd,GAAG,CAACgB,gBAAgB,GAAIjB,iBAAiB,CAACkB,IAAI;EAC9C;;EAEA;EACAjB,GAAG,CAACkB,eAAe,GAAKnB,iBAAiB,CAACoB,GAAG;EAC7C;;EAEA,OAAOnB,GAAG;AAEV"}